<%- include('partial/header', { title: 'thiagohotelsportal',email:email,roleName:roleName }) %>
<%- include('partial/sidebar', { name: name}) %>
		<div class="page-wrapper">
			<div class="content container-fluid">
				<div class="page-header">
					<div class="row align-items-center">
					
						<div class="col">
							<h3 class="page-title mt-5">Add Room Category</h3>
							<a href="/portal/room-category">Go back</a>
						</div>
					</div>
				</div>
				<div class="row">
					<div class="col-lg-12">
						<form id="roomCategoryForm" enctype="multipart/form-data">
							<div class="row formtype">
								<!-- Category Name -->
								<div class="col-md-4">
									<div class="form-group">
										<label>Category Name</label>
										<input name="category_name" type="text" class="form-control" id="category_name">
									</div>
								</div>
								<!-- Room Type -->
								<div class="col-md-4">
									<div class="form-group">
										<label>Room Type</label>
										<select name="room_type" class="form-control" id="room_type">
											<option value="">Select</option>
											<option value="Single">Single</option>
											<option value="Double">Double</option>
										</select>
									</div>
								</div>
								<!-- AC -->
								<div class="col-md-4">
									<div class="form-group">
										<label>AC</label>
										<select name="has_ac" class="form-control" id="has_ac">
											<option value="">Select</option>
											<option value="YES">YES</option>
											<option value="NO">NO</option>
										</select>
									</div>
								</div>
								<!-- WIFI -->
								<div class="col-md-4">
									<div class="form-group">
										<label>WIFI</label>
										<select name="has_wifi" class="form-control" id="has_wifi">
											<option value="">Select</option>
											<option value="YES">YES</option>
											<option value="NO">NO</option>
										</select>
									</div>
								</div>
								<!-- Food -->
								<div class="col-md-4">
									<div class="form-group">
										<label>Food</label>
										<select name="food" class="form-control" id="food">
											<option value="">Select</option>
											<option value="Free Breakfast">Free Breakfast</option>
											<option value="Free Lunch">Free Lunch</option>
											<option value="Free Dinner">Free Dinner</option>
											<option value="Free Breakfast & Dinner">Free Breakfast & Dinner</option>
											<option value="Free Welcome Drink">Free Welcome Drink</option>
											<option value="No Free Food">No Free Food</option>
										</select>
									</div>
								</div>
								<!-- Bed Count -->
								<div class="col-md-4">
									<div class="form-group">
										<label>Bed Count</label>
										<select name="num_beds" class="form-control" id="num_beds">
											<option value="">Select</option>
											<option value="1">1</option>
											<option value="2">2</option>
											<option value="3">3</option>
											<option value="4">4</option>
											<option value="5">5</option>
											<option value="6">6</option>
										</select>
									</div>
								</div>
								<!-- Number of Guests -->
								<div class="col-md-4">
									<div class="form-group">
										<label>Number of Guests</label>
										<select name="number_of_guests" class="form-control" id="number_of_guests">
											<option value="">Select</option>
											<option value="1">1</option>
											<option value="2">2</option>
											<option value="3">3</option>
											<option value="4">4</option>
											<option value="5">5</option>
											<option value="6">6</option>
										</select>
									</div>
								</div>
								<!-- Charges For Cancellation -->
								<div class="col-md-4">
									<div class="form-group">
										<label>Charges For Cancellation</label>
										<select name="cancellations_fee" class="form-control" id="cancellations_fee">
											<option value="">Select</option>
											<option value="Free">Free</option>
											<option value="5% Before 24Hours">5% Before 24Hours</option>
											<option value="No Cancellation Allow">No Cancellation Allow</option>
										</select>
									</div>
								</div>
								<!-- Price -->
								<div class="col-md-4">
									<div class="form-group">
										<label>Price</label>
										<input name="price" type="text" class="form-control" id="price">
									</div>
								</div>
								<!-- File Upload -->
								<div class="col-md-4">
									<div class="form-group">
										<label>File Upload</label>
										<div class="custom-file mb-3">
											<input name="picture" type="file" class="custom-file-input" id="picture">
											<label class="custom-file-label" for="picture">Choose file</label>
										</div>
									</div>
								</div>
								<!-- Message -->
								<div class="col-md-4">
									<div class="form-group">
										<label>Message</label>
										<textarea  name="description" class="form-control" rows="5" id="text"></textarea>
									</div>
								</div>
							</div>
							<button type="submit" class="btn btn-primary buttonedit ml-2">Save</button>
							<button type="button" class="btn btn-primary buttonedit">Cancel</button>
						</form>
						
					</div>
				</div>
				<!-- <button type="button" class="btn btn-primary buttonedit ml-2">Save</button>
				<button type="button" class="btn btn-primary buttonedit">Cancel</button> -->
			</div>
		</div>
	</div>
	<script src="assets/js/jquery-3.5.1.min.js"></script>
	<script src="assets/js/popper.min.js"></script>
	<script src="assets/js/bootstrap.min.js"></script>
	<script src="assets/js/moment.min.js"></script>
	<script src="assets/js/select2.min.js"></script>
	<script src="assets/plugins/slimscroll/jquery.slimscroll.min.js"></script>
	<script src="assets/plugins/raphael/raphael.min.js"></script>
	<script src="assets/js/bootstrap-datetimepicker.min.js"></script>
	<script src="assets/js/script.js"></script>
	<script>
	$(function() {
		$('#datetimepicker3').datetimepicker({
			format: 'LT'
		});
	});
	</script>

<script>
document.getElementById('roomCategoryForm').addEventListener('submit', async function(event) {
    event.preventDefault();

    // Get the form element
    const form = event.target;

    // Create a FormData object from the form

    const formData = new FormData(form);
	formData.append("branch_id",1)
	formData.append("branch_id",1)

    try {
        // Send the form data using the fetch API
        const response = await fetch('/hotelmanager/create', {
            method: 'POST',
            body: formData,
        });

        // Handle the response
        if (response.ok) {
            alert('Category added successfully!');
            form.reset(); // Reset the form after successful submission
        } else {
            const errorData = await response.json();
            alert('Failed to add category: ' + errorData.message);
        }
    } catch (error) {
        console.error('Error:', error);
        alert('An error occurred while submitting the form.');
    }
});

</script>
</body>

</html>